# Reroute

## 概要

**Reroute**ノードは、PCGグラフの接続を視覚的に整理するための基本的なリルートノードです。データをそのまま通過させ、グラフエディタでの配線を見やすくするために使用されます。

カテゴリ: Reroute
クラス名: `UPCGRerouteSettings`
エレメント: `FPCGRerouteElement`

## 機能詳細

このノードは入力データを変更せずに出力に転送するシンプルなパススルーノードです。グラフエディタでの配線を整理し、複雑なグラフを読みやすくするために使用されます。

### 主な特徴

- データを変更せずにパススルー
- 動的ピン（接続されたデータ型に適応）
- 無効化不可（常に有効）
- グラフの視覚的整理に使用
- ベースポイントデータをサポート

## プロパティ

このノードには公開されたプロパティはありません。すべての機能は自動的に処理されます。

## 入力ピン

### Input (動的)
- **型**: 動的（任意のPCGデータ型）
- **説明**: 通過させるデータを受け取ります。接続されたデータの型に自動的に適応します。

## 出力ピン

### Output (動的)
- **型**: 動的（入力と同じ型）
- **説明**: 入力データをそのまま出力します。

## 使用例

### 基本的な使用方法

```
[PointSampler] → [Reroute] → [StaticMeshSpawner]
                      ↓
                 [DensityFilter]
```

このように、1つの出力を複数の場所に分岐させながら、配線を整理できます。

### 長距離接続の整理

```
[DataSource]
    ↓
[Reroute] ━━━━━━━━━━━━━━━━━━━→ [DistantNode]
    ↓
[NearbyNode]
```

グラフエディタで長距離の接続を視覚的に整理するために使用できます。

### 複雑なグラフの可読性向上

```
[ComplexOperation1]
    ↓
[Reroute] ─┬→ [Branch1]
           ├→ [Branch2]
           └→ [Branch3]
```

## 実装の詳細

### ExecuteInternal メソッド

`FPCGRerouteElement::ExecuteInternal` は非常にシンプルです:

```cpp
bool FPCGRerouteElement::ExecuteInternal(FPCGContext* Context) const
{
    // 入力データをそのまま出力にコピー
    Context->OutputData = Context->InputData;
    return true;
}
```

1. **入力データの取得**: コンテキストから入力データを取得
2. **出力への転送**: 入力データを変更せずに出力データにコピー
3. **即座に完了**: 処理は瞬時に完了し、true を返す

### 動的ピン

`HasDynamicPins()` が true を返すため、このノードは接続されたデータ型に基づいてピンの型を動的に調整します。

### 無効化不可

`CanBeDisabled()` が false を返すため、このノードは常に有効で、無効化できません。これは、リルートノードが単なる配線の整理であり、実際の処理を行わないためです。

### ベースポイントデータのサポート

`SupportsBasePointDataInputs()` が true を返すため、このノードはポイントデータの基底クラスを直接サポートします。

## パフォーマンス考慮事項

1. **ゼロオーバーヘッド**: データのコピーのみで、実質的な処理オーバーヘッドはありません
2. **キャッシュ可能**: ノードはキャッシュ可能ですが、実際にはデータをパススルーするだけです
3. **メモリ効率**: データの参照をコピーするため、大きなデータセットでもメモリ効率的です
4. **マルチスレッド対応**: メインスレッドに限定されず、マルチスレッド実行が可能です

## 名前の衝突回避

`GetCollisionFreeNodeName` 静的メソッドは、グラフ内で一意のリルートノード名を生成します。これにより、複数のリルートノードが同じグラフに配置された場合でも、名前の衝突を避けることができます。

## 変換とプリコンフィグ

このノードは他のリルートノードタイプ（Named Reroute Declaration/Usage）への変換をサポートします。`GetConversionInfo()` と `ConvertNode()` メソッドがこの機能を提供します。

## 関連ノード

- **Named Reroute Declaration**: 名前付きリルート宣言ノード
- **Named Reroute Usage**: 名前付きリルート使用ノード
- **Reroute (Named Base)**: 名前付きリルートの基底クラス

## 注意事項

- ユーザーはノードタイトルを編集できません (`CanUserEditTitle` が false)
- 無効化できません (`CanBeDisabled` が false)
- 実行依存ピンはありません (`HasExecutionDependencyPin` が false)
- コンパクト表示されません（通常のノード表示）
- グラフエディタでの視覚的整理が主な目的です

## エディタでの使用

PCGグラフエディタでは、リルートノードは小さな点として表示されることが多く、配線の分岐点や方向転換点として使用されます。複雑なグラフの可読性を大幅に向上させることができます。
